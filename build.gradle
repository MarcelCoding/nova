plugins {
  id('base')
  id('io.freefair.git-version') version('5.3.0')
  id('nebula.project') version('7.0.9') apply(false)
  id('io.freefair.lombok') version('5.3.0') apply(false)
  id('com.jfrog.bintray') version('1.8.5') apply(false)

  id('io.spring.javadoc') version('0.0.1') apply(false)
  id('io.spring.javadoc-aggregate') version('0.0.1') apply(false)
}

version(version.toString().startsWith('v') ? version.toString().substring(1) : version)
version(version.toString() == 'main-SNAPSHOT' ? "edge" : version)

allprojects {
  group('net.getnova.framework')
}

subprojects {
  version(rootProject.version)

  apply(plugin: "nebula.project")
  apply(from: "${rootDir}/gradle/java.gradle")
  apply(from: "${rootDir}/gradle/lombok.gradle")
  apply(from: "${rootDir}/gradle/test.gradle")
  apply(from: "${rootDir}/gradle/checkstyle.gradle")
  apply(from: "${rootDir}/gradle/javadoc.gradle")
  apply(from: "${rootDir}/gradle/bintray.gradle")
}
